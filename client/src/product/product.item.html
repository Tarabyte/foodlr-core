<form class="form-horizontal" ng-submit="ctrl.save()">
  <div class="form-group">
    <label for="caption" class="col-sm-2 control-label">Название</label>
    <div class="col-sm-8">
      <input type="text" id="caption" name="caption" class="form-control" placeholder="Название" required ng-model="item.caption">
    </div>
  </div>
  <div class="form-group">
    <label for="description" class="col-sm-2 control-label">Описание</label>
    <div class="col-sm-8">
      <textarea id="description" name="description" class="form-control" placeholder="Описание" ng-model="item.description" rows="10"></textarea>
      <progress-bar value="item.description.length" expected="700"></progress-bar>
    </div>

  </div>
  <div class="form-group">
    <label for="short" class="col-sm-2 control-label">Краткое описание</label>
    <div class="col-sm-8">
      <textarea id="short" name="short" class="form-control" placeholder="Краткое описание" ng-model="item.short" rows="5"></textarea>
      <progress-bar value="item.short.length" expected="400"></progress-bar>
    </div>
  </div>
  <div class="form-group">
    <label for="images" class="col-sm-2 control-label">Картинки</label>
    <div class="col-sm-8">
      <div>
        <div ng-if="item.id" class="col-sm-2 well" nv-file-over nv-file-drop uploader="uploader"> Перетащите файлы для загрузки или
          <div>
            <input type="file" nv-file-select uploader="uploader" multiple/>
          </div>
        </div>
        <div class="col-sm-10">
          <div class="media thumbnail" ng-repeat="img in item.images">
            <div class="media-left">
              <a href="{{img.src}}" target="_blank">
                <img class="img-preview media-object" ng-src="{{img.src}}"/>
              </a>

            </div>
            <div class="media-body">
              <input type="text" ng-model="img.caption" class="form-control" placeholder="Описание картинки">
              <button type="button" class="btn btn-danger" ng-click="ctrl.removeImage(img)"><fa icon="trash"/></button>
            </div>
            <div class="media-right">
              <span class="media-caption">{{img.name}}</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="form-group">
    <label class="control-label col-sm-2" for="invisible">
      Отображение в списке
    </label>
    <div class="col-sm-8">
      <label class="btn" ng-class="{'btn-success': !item.invisible, 'btn-warning': item.invisible}">
        <input type="checkbox" id="invisible" class="hidden" name="invisible" ng-model="item.invisible">
        <span ng-show="item.invisible">Скрытый</span>
        <span ng-hide="item.invisible">Отображается</span>
      </label>
    </div>
  </div>
  <div class="form-group">
    <label for="category" class="col-sm-2 control-label">Категория</label>
    <div class="btn-group col-sm-8">
      <label class="btn" ng-repeat="category in categories track by category.id"
          ng-class="{'btn-info':category.id===item.category.id}">
        <input type="radio" value="{{category.id}}" name="category" ng-model="$parent.categoryId">{{category.caption}}
      </label>
    </div>
  </div>
  <div class="form-group">
    <label for="tags" class="col-sm-2 control-label">Ярлыки</label>
    <div class="btn-group col-sm-8">
      <label class="btn" ng-repeat="tag in tags track by tag.id"
          ng-class="{'btn-info':ctrl.isTagSelected(tag)}">
        <input type="checkbox" value="{{tag.id}}" ng-model="$parent.selectedTags[tag.id]">{{tag.caption}}
      </label>
    </div>
  </div>
  <div class="form-group">
    <div class="col-sm-2 col-sm-offset-2">
      <label for="calories" class="control-label">Калорийность</label>
    </div>
    <div class="col-sm-2">
      <label for="fats" class="control-label">Жиры</label>
    </div>
    <div class="col-sm-2">
      <label for="proteins" class="control-label">Белки</label>
    </div>
    <div class="col-sm-2">
      <label for="carbs" class="control-label">Углеводы</label>
    </div>
  </div>
  <div class="form-group">
    <div class="col-sm-2 col-sm-offset-2">
      <input type="number" step="any" id="calories" name="calories" class="form-control" placeholder="Калорийность" required ng-model="item.calories">
    </div>
    <div class="col-sm-2">
      <input type="number" step="any" id="fats" name="fats" class="form-control" placeholder="Ж" ng-model="item.fats">
    </div>
    <div class="col-sm-2">
      <input type="number" step="any" id="proteins" name="proteins" class="form-control" placeholder="Б" ng-model="item.proteins">
    </div>
    <div class="col-sm-2">
      <input type="number" step="any" id="carbs" name="carbs" class="form-control" placeholder="У" ng-model="item.carbs">
    </div>
  </div>
  <div class="form-group">
    <div class="text-center">
      <label class="control-label">Питательные вещества</label>
    </div>
    <div class="col-lg-3 col-md-4 col-xs-6 input-group-nutrient" ng-repeat="nutrient in item.nutrients">
      <div class="input-group input-group-sm">
        <span class="input-group-addon" title="{{::nutrient.caption}}">{{::nutrient.caption}}</span>
        <input type="number" ng-model="nutrient.value" class="form-control" step="any">
        <span class="input-group-addon">{{::nutrient.unit}}</span>
      </div>
    </div>
  </div>

  <div class="form-group">
    <div class="col-sm-4 col-sm-offset-6">
      <div class="bth-group pull-right">
        <button type="submit" class="btn btn-success"><fa icon="save"/> Сохранить</button>
        <button type="button" class="btn btn-danger" ng-click="ctrl.remove()"><fa icon="trash"/> Удалить</button>
        <button type="button" class="btn btn-link" ng-click="ctrl.list()">Отмена</button>
      </div>
    </div>
  </div>
</form>
